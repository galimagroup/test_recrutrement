<br><br><div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <div class="card">
        <div class="card-header bg-primary text-white">
          <h4 class="mb-0">
            <i class="fas fa-plus-circle me-2"></i>
            {{ isEditMode ? 'Modifier le produit' : 'Ajouter un nouveau produit' }}
          </h4>
        </div>
        <div class="card-body">
          <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
            <div class="row">
              <div class="col-md-6 mb-3">
                <label class="form-label" for="name">Nom du produit</label>
                <input 
                  type="text" 
                  class="form-control" 
                  id="name" 
                  formControlName="name">
                <div 
                  class="invalid-feedback" 
                  *ngIf="productForm.get('name')?.invalid && productForm.get('name')?.touched">
                  Le nom est requis.
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <label class="form-label" for="code">Code produit</label>
                <input 
                  type="text" 
                  class="form-control" 
                  id="code" 
                  formControlName="code">
              </div>
            </div>

            <div class="row">
              <div class="col-md-6 mb-3">
                <label class="form-label" for="category">Catégorie</label>
                <select 
                  class="form-select" 
                  id="category" 
                  formControlName="category">
                  <option value="">Sélectionner une catégorie</option>
                  <option value="Electronique">Electronique</option>
                  <option value="Vetements">Vêtements</option>
                  <option value="Accessoire">Accessoires</option>
                </select>
              </div>
              <div class="col-md-6 mb-3">
                <label class="form-label" for="inventory_status">Statut du stock</label>
                <select 
                  class="form-select" 
                  id="inventory_status" 
                  formControlName="inventoryStatus">
                  <option value="INSTOCK">En stock</option>
                  <option value="LOWSTOCK">Stock faible</option>
                  <option value="OUTOFSTOCK">Rupture de stock</option>
                </select>
              </div>
            </div>

            <div class="row">
              <div class="col-md-4 mb-3">
                <label class="form-label" for="price">Prix</label>
                <div class="input-group">
                  <span class="input-group-text">€</span>
                  <input 
                    type="number" 
                    class="form-control" 
                    id="price" 
                    formControlName="price">
                </div>
              </div>
              <div class="col-md-4 mb-3">
                <label class="form-label" for="quantity">Quantité</label>
                <input 
                  type="number" 
                  class="form-control" 
                  id="quantity" 
                  formControlName="quantity">
              </div>
              <div class="col-md-4 mb-3">
                <label class="form-label" for="rating">Note</label>
                <input 
                  type="number" 
                  class="form-control" 
                  id="rating" 
                  formControlName="rating" 
                  min="0" 
                  max="5" 
                  step="0.1">
              </div>
            </div>

            <div class="mb-3">
              <label class="form-label" for="description">Description</label>
              <textarea 
                class="form-control" 
                id="description" 
                rows="4" 
                formControlName="description"></textarea>
            </div>

            <div class="mb-3">
              <label class="form-label">Image du produit</label>
              <div 
                class="upload-zone" 
                (click)="fileInput.click()">
                <img 
                  *ngIf="imagePreview" 
                  [src]="imagePreview" 
                  alt="Aperçu de l'image" 
                  class="img-thumbnail mb-3">
                <i 
                  class="fas fa-cloud-upload-alt fa-2x mb-2" 
                  *ngIf="!imagePreview"></i>
                <p class="mb-0" *ngIf="!imagePreview">
                  Glissez et déposez une image ici<br>ou cliquez pour sélectionner
                </p>
                <input 
                  #fileInput 
                  type="file" 
                  class="d-none" 
                  (change)="onFileSelected($event)" 
                  accept="image/*">
              </div>
            </div>

            <div class="mb-3">
              <label class="form-label" for="internal_reference">Référence interne</label>
              <input 
                type="text" 
                class="form-control" 
                id="internal_reference" 
                formControlName="internalReference">
            </div>

            <div class="row">
              <div class="col-md-6 mb-3">
                <label class="form-label" for="shell_id">ID Shell</label>
                <input 
                  type="number" 
                  class="form-control" 
                  id="shell_id" 
                  formControlName="shellId">
              </div>
            </div>

            <div class="d-flex justify-content-end gap-2">
              <button 
                type="button" 
                class="btn btn-secondary" 
                >Annuler</button>
              <button 
                type="submit" 
                class="btn btn-primary" 
                [disabled]="!productForm.valid">
                <i class="fas fa-save me-2"></i>
                {{ isEditMode ? 'Mettre à jour' : 'Enregistrer' }}
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
